<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Chapitre 11. Gestion des paquets hors ligne</title>
    <link rel="stylesheet" type="text/css" href="../../libs-common/css/style.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Documentation de Xubuntu" />
    <link rel="up" href="index.html" title="Documentation de Xubuntu" />
    <link rel="prev" href="software-management.html" title="Chapitre 10. Software Management" />
    <link rel="next" href="guide-keeping-safe.html" title="Chapitre 12. Protégez votre ordinateur et vos informations personnelles" />
    <link rel="copyright" href="credits-license.html" title="Remerciements et licence" />
    <link xmlns="" xmlns:fo="http://www.w3.org/1999/XSL/Format" rel="shortcut icon" href="../../libs-common/images/favicon.png" />
    <meta xmlns="" xmlns:fo="http://www.w3.org/1999/XSL/Format" name="viewport" content="width=device-width, maximum-scale=1.0, minimum-scale=1.0, initial-scale=1" />
    <link xmlns="" xmlns:fo="http://www.w3.org/1999/XSL/Format" rel="stylesheet" href="../../libs-common/css/style-resp-950.css" media="only screen and (max-width:950px)" />
    <link xmlns="" xmlns:fo="http://www.w3.org/1999/XSL/Format" rel="stylesheet" href="../../libs-common/css/style-resp-400.css" media="only screen and (max-width:400px)" />
  </head>
  <body>
    <div xmlns="" xmlns:fo="http://www.w3.org/1999/XSL/Format" id="masthead">
      <a href="index.html">
        <img src="../../libs-common/images/logo.png" alt="Xubuntu" />
      </a>
    </div>
    <div xml:lang="fr" class="chapter" lang="fr">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="offline-packages"></a>Chapitre 11. Gestion des paquets hors ligne</h1>
          </div>
        </div>
      </div>
      <div class="toc">
        <p>
          <strong>Table des matières</strong>
        </p>
        <dl class="toc">
          <dt>
            <span class="section">
              <a href="offline-packages.html#offline-repo-update">Mise à jour des dépôts</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="offline-packages.html#offline-package-install">Installation d'un paquet</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="offline-packages.html#offline-system-upgrade">Mise à niveau de votre système</a>
            </span>
          </dt>
        </dl>
      </div>
      <p>L'outil <span class="application"><strong>apt-offline</strong></span> est disponible pour aider à garder votre ordinateur à jour même s'il ne peut pas être être connecté à Internet, en utilisant un deuxième ordinateur connecté lui-même à Internet. Cet autre ordinateur peut être installé avec Xubuntu, une autre variante d'Ubuntu ou Debian. Une interface graphique est disponible via <span class="application"><strong>apt-offline-gui</strong></span>. Ce document traite de la variante en ligne de commande.</p>
      <p>Tout au long de ce chapitre, des instructions sont données pour utiliser un répertoire sur un lecteur flash USB, vous devrez définir à l'avance le nom et le chemin d'accès de ce répertoire.</p>
      <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Warning">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25">
              <img alt="[Avertissement]" src="../../libs-common/images/warning.png" />
            </td>
            <th align="left"></th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>Quelques paquets spécifiques ne sont pas faits pour être traités dans un environnement hors-ligne. Ceci est dû au mode de fonctionnement de leur script pendant leur installation ou leur mise à jour. Quelques-uns des paquets qui manifestent ce comportement sont <span class="application"><strong>flashplugin-installer</strong></span>, <span class="application"><strong>nautilus-dropbox</strong></span> et <span class="application"><strong>ttf-mscorefonts-installer</strong></span>. Il n'y a pas de solution de contournement pour les paquets d'installation qui font par eux-même des téléchargements.</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25">
              <img alt="[Note]" src="../../libs-common/images/note.png" />
            </td>
            <th align="left"></th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>Il est préférable d'éviter d'utiliser la balise <strong class="userinput"><code>-y</code></strong> pour la mise à niveau, de manière à pouvoir parcourir une dernière fois les mises à niveau pour voir si l'un des problèmes mentionnés ci-dessus apparaît.</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25">
              <img alt="[Note]" src="../../libs-common/images/note.png" />
            </td>
            <th align="left"></th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>Pendant l'utilisation de <span class="application"><strong>apt-offline</strong></span> quelques erreurs s'affichant en rouge peuvent apparaître, indiquant l'impossibilité de télécharger des fichiers relatifs aux traductions. Ces messages peuvent être ignorés sans risque.</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both"><a id="offline-repo-update"></a>Mise à jour des dépôts</h2>
            </div>
          </div>
        </div>
        <p>Après avoir connecté une clé USB puis ouvert un terminal, vous pouvez utiliser apt-offline afin de générer une demande pour mettre à jour votre ordinateur. Ceci permet à votre ordinateur de savoir s'il existe des correctifs, des mises à jour de sécurité ou de nouveaux logiciels disponibles pour votre ordinateur.</p>
        <p>Sur votre ordinateur déconnecté, exécutez : <strong class="userinput"><code>apt-offline set --update apt-offline.sig</code></strong></p>
        <p>Une fois fait, copiez <code class="literal">apt-offline.sig</code> sur votre clé USB puis branchez-la sur un autre ordinateur. Avec apt-offline sur cet ordinateur, utilisez ce fichier pour télécharger ce dont votre ordinateur déconnecté a besoin pour se mettre à jour lui-même. Sur la clé, naviguez vers le répertoire contenant apt-offline.sig, saisissez <strong class="userinput"><code>apt-offline get --bundle bundle.zip apt-offline.sig</code></strong>. Une fois terminé, retirez la clé USB puis reconnectez-la à l'ordinateur déconnecté.</p>
        <p>Réinsérez la clé USB sur l'ordinateur déconnecté. Naviguez jusqu'au répertoire de la clé USB qui contient les deux fichiers, puis saisissez : <strong class="userinput"><code>sudo apt-offline install bundle.zip</code></strong>. Une fois la commande exécutée, vos dépôts seront à jour.</p>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both"><a id="offline-package-install"></a>Installation d'un paquet</h2>
            </div>
          </div>
        </div>
        <p>Vous pouvez utiliser apt-offline pour télécharger un paquet à installer. Cette action peut aussi être combinée avec la mise à jour des dépôts logiciels. Dans un environnement déconnecté, il est primordial d'utiliser efficacement les opportunités de connexion.</p>
        <p>Supposons que vous souhaitiez installer un nouveau paquet. Dans cet exemple nous appellerons ce paquet <span class="emphasis"><em>NOMDUPAQUET</em></span> mais pour un usage normal vous devrez simplement saisir le nom du paquet. Assez souvent, installer un paquet nécessite d'installer également des dépendances. <span class="application"><strong>apt-offline</strong></span> gère la résolution de dépendances pour vous. Pour commencer ce processus, ouvrez un terminal, insérez la clé USB et naviguez jusqu'au répertoire. Depuis ce répertoire, exécutez <strong class="userinput"><code>sudo apt-offline set --install-packages $NOMDEPAQUET --update apt-offline.sig</code></strong> pour démarrer le processus</p>
        <p>Une fois terminé, copiez <code class="literal">apt-offline.sig</code> sur votre clé USB et connectez-la à un autre ordinateur. Sur cet ordinateur, avec apt-offline, utilisez ce fichier pour télécharger ce dont votre ordinateur déconnecté a besoin pour la mise à jour et installez NOMDEPAQUET. Sur la clé USB, naviguez jusqu'au répertoire contenant apt-offline.sig puis exécutez <strong class="userinput"><code>sudo apt-offline get --bundle bundle.zip apt-offline.sig</code></strong>. La console affichera une tentative de téléchargement des mises à jour du dépôts ainsi que <span class="emphasis"><em>NOMDEPAQUET</em></span> et toute dépendance dont votre système aura besoin. Retirez la clé USB une fois ces actions terminées et reconnectez-la sur l'ordinateur déconnecté.</p>
        <p>Sur l'ordinateur déconnecté, insérez la clé USB. Naviguez jusqu'au répertoire de la clé USB qui contient les deux fichiers puis saisissez : <strong class="userinput"><code>sudo apt-offline install bundle.zip</code></strong>. Une fois l'action terminée, vos dépôts seront à jour. Vous pourrez alors installer <span class="emphasis"><em>NOMDEPAQUET</em></span> en saisissant : <strong class="userinput"><code>sudo apt-get install NOMDEPAQUET</code></strong>.</p>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both"><a id="offline-system-upgrade"></a>Mise à niveau de votre système</h2>
            </div>
          </div>
        </div>
        <p>Mettre à niveau les paquets se fait en 2 étapes : mettre à jour les dépôts, puis faire les téléchargements et mises à niveaux nécessaires.</p>
        <p>Pour commencer, mettez vos dépôts à jour en suivant les instructions fournies dans <a class="xref" href="offline-packages.html#offline-repo-update">Mise à jour des dépôts</a></p>
        <p>Nettoyez le répertoire que vous avez utilisé auparavant sur la clé USB. Dans une nouvelle fenêtre de commandes, naviguez jusqu'au répertoire de la clé USB. Dans la mesure où il est préférable de ne jamais rater une occasion d'actualiser les dépôts de l'ordinateur déconnecté, il est suggéré de construire la commande non seulement pour mettre à niveau les paquets mais aussi pour mettre à jour les dépôts. Saisissez <strong class="userinput"><code>apt-offline set --update --upgrade apt-offline.sig</code></strong></p>
        <p>Une fois fait, copiez <code class="literal">apt-offline.sig</code> sur votre clé USB et connectez-la à un autre ordinateur. Depuis cet ordinateur, avec apt-offline, utilisez ce fichier pour télécharger ce dont votre ordinateur déconnecté a besoin pour le mettre à niveau. Naviguez jusqu'au répertoire contenant apt-offline.sig sur la clé USB, exécutez <strong class="userinput"><code>sudo apt-offline get --bundle bundle.zip apt-offline.sig</code></strong>. La console affichera une tentative de téléchargement des mises à jours du dépôt ainsi que toute mise à niveau et dépendance dont votre système aurait besoin. Une fois terminé, retirez la clé USB et reconnectez-la à l'ordinateur déconnecté.</p>
        <p>Sur l'ordinateur déconnecté, insérez la clé USB, naviguez jusqu'au répertoire qui contient les deux fichiers et saisissez <strong class="userinput"><code>sudo apt-offline install bundle.zip</code></strong>.  Une fois la commande exécutée, vos dépôts seront à jour. Vous pouvez alors installer les mise à niveau en saisissant : <strong class="userinput"><code>sudo apt-get upgrade</code></strong>.</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="software-management.html"><img src="../../libs-common/images/prev.png" alt="Précédent" /></a> </td>
          <td width="20%" align="center"> </td>
          <td width="40%" align="right"> <a accesskey="n" href="guide-keeping-safe.html"><img src="../../libs-common/images/next.png" alt="Suivant" /></a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">Chapitre 10. Software Management </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">
              <img src="../../libs-common/images/home.png" alt="Sommaire" />
            </a>
          </td>
          <td width="40%" align="right" valign="top"> Chapitre 12. Protégez votre ordinateur et vos informations personnelles</td>
        </tr>
      </table>
    </div>
  </body>
</html>
