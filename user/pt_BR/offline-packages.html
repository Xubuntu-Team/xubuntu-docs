<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Capítulo 10. Gerenciador de Pacotes Offline</title>
    <link rel="stylesheet" type="text/css" href="../../libs-common/css/style.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Documentação do Xubuntu" />
    <link rel="up" href="index.html" title="Documentação do Xubuntu" />
    <link rel="prev" href="software-management.html" title="Capítulo 9. Software Management" />
    <link rel="next" href="guide-keeping-safe.html" title="Capítulo 11. Protegendo suas informações pessoais e do computador" />
    <link rel="copyright" href="credits-license.html" title="Créditos e Licença" />
    <link xmlns="" xmlns:fo="http://www.w3.org/1999/XSL/Format" rel="shortcut icon" href="../../libs-common/images/favicon.png" />
    <meta xmlns="" xmlns:fo="http://www.w3.org/1999/XSL/Format" name="viewport" content="width=device-width, maximum-scale=1.0, minimum-scale=1.0, initial-scale=1" />
    <link xmlns="" xmlns:fo="http://www.w3.org/1999/XSL/Format" rel="stylesheet" href="../../libs-common/css/style-resp-950.css" media="only screen and (max-width:950px)" />
    <link xmlns="" xmlns:fo="http://www.w3.org/1999/XSL/Format" rel="stylesheet" href="../../libs-common/css/style-resp-400.css" media="only screen and (max-width:400px)" />
  </head>
  <body>
    <div xmlns="" xmlns:fo="http://www.w3.org/1999/XSL/Format" id="masthead">
      <a href="index.html">
        <img src="../../libs-common/images/logo.png" alt="Xubuntu" />
      </a>
    </div>
    <div xml:lang="pt-BR" class="chapter" lang="pt-BR">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="offline-packages"></a>Capítulo 10. Gerenciador de Pacotes Offline</h1>
          </div>
        </div>
      </div>
      <div class="toc">
        <p>
          <strong>Índice</strong>
        </p>
        <dl class="toc">
          <dt>
            <span class="section">
              <a href="offline-packages.html#offline-repo-update">Atualizando Repositórios</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="offline-packages.html#offline-package-install">Instalando um Pacote</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="offline-packages.html#offline-system-upgrade">Atualizando Seu Sistema</a>
            </span>
          </dt>
        </dl>
      </div>
      <p>A ferramenta <span class="application"><strong>apt-offline</strong></span> existe para ajudar a manter o seu computador atualizado, mesmo se ele não estiver conectado à internet. Ele pode estar conectado a um segundo computador (e este conectado à internet), onde este último pode estar executando o Xubuntu ou qualquer distribuição baseada no Ubuntu, ou até mesmo Debian. Uma interface gráfica está disponível via <span class="application"><strong>apt-offline-gui</strong></span>. Este documento detalha as opções de linha de comando dessa ferramenta.</p>
      <p>Ao longo deste capítulo, será mostrado como utilizar um diretório em uma unidade flash USB, onde o nome e o caminho para este diretório devem ser decididos antecipadamente por você.</p>
      <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Warning">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25">
              <img alt="[Atenção]" src="../../libs-common/images/warning.png" />
            </td>
            <th align="left"></th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>Alguns pacotes específicos não são construídos para serem executados em um ambiente desconectado, uma vez que eles baixam scripts durante a instalação ou durante um upgrade. Alguns exemplos típicos destes pacotes são o <span class="application"><strong>flashplugin-installer</strong></span>, o <span class="application"><strong>nautilus-dropbox</strong></span> e o <span class="application"><strong>ttf-mscorefonts-installer</strong></span>. Neste caso, não há como instalar estes pacotes.</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25">
              <img alt="[Nota]" src="../../libs-common/images/note.png" />
            </td>
            <th align="left"></th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>É aconselhado evitar o uso da flag <strong class="userinput"><code>-y</code></strong> ao fazer atualizações, para que você tenha a chance de revisá-las em busca de algum dos problemas mencionados acima.</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25">
              <img alt="[Nota]" src="../../libs-common/images/note.png" />
            </td>
            <th align="left"></th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>Durante o uso do <span class="application"><strong>apt-offline</strong></span>, alguns erros destacados em vermelho podem aparecer, relacionados à impossibilidade de baixar arquivos referentes à traduções. Estes erros podem ser ignorados sem problemas.</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both"><a id="offline-repo-update"></a>Atualizando Repositórios</h2>
            </div>
          </div>
        </div>
        <p>Depois de conectar uma unidade flash USB e abrir um terminal, você pode usar o comando apt-offline para gerar uma requisição de autalização dos repositórios reconhecidos pelo seu computador. Isto permite ao seu computador enxergar se há correções de falhas, atualizações de segurança ou se há novos softwares disponíveis.</p>
        <p>Execute no seu computador desconectado: <strong class="userinput"><code>apt-offline set --update apt-offline.sig</code></strong></p>
        <p>Uma vez feito isto, copie o arquivo <code class="literal">apt-offline.sig</code> para sua unidade flash USB e leve-a para o computador conectado. Neste último, use o comando apt-offline com o arquivo apt-offline.sig para baixar o que o seu computador desconectado necessita para se atualizar. Para isto, navegue até o diretório na unidade flash que contém o arquivo apt-offline.sig e digite <strong class="userinput"><code>apt-offline get --bundle bundle.zip apt-offline.sig</code></strong>. Ao final, remova a unidade flash USB e leve-a de volta ao computador desconectado.</p>
        <p>No computador desconectado, reconecte a unidade flash USB. Navegue até o diretório da unidade flash que contém os dois arquivos e digite: <strong class="userinput"><code>sudo apt-offline install bundle.zip</code></strong>. Ao final da execução do comando, os repositórios do computador desconectado estarão atualizados.</p>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both"><a id="offline-package-install"></a>Instalando um Pacote</h2>
            </div>
          </div>
        </div>
        <p>Você pode utilizar o comando apt-offline para baixar um pacote e instalá-lo. Esta ação pode ser combinada com a atualização dos repositórios de software. Em um ambiente desconectado, é fundamental que se utilizem opções eficientes de conexão.</p>
        <p>Neste exemplo, nós assumimos que você quer instalar um novo pacote. Vamos referenciar o pacote como sendo <span class="emphasis"><em>PACKAGENAME</em></span>, embora normalmente você irá digitar o nome do pacote. Frequentemente, a instalação de um pacote requer a instalação de dependências. O <span class="application"><strong>apt-offline</strong></span> manipula a resolução de dependências automaticamente para você. Para iniciar o processo de instalação, abra um terminal, conecte uma unidade flash USB e navegue até um diretório qualquer. Então, execute  <strong class="userinput"><code>sudo apt-offline set --install-packages $PACKAGENAME --update apt-offline.sig</code></strong>.</p>
        <p>Ao final da execução do comando, copie o arquivo <code class="literal">apt-offline.sig</code> para sua unidade de disco USB e leve-o ao computador conectado. Neste último, utilize o apt-offline com o arquivo apt-offline.sig para baixar o que o computador desconectado necessita para autalizar a instalar PACKAGENAME. Para isto, na unidade flash, navegue até o diretório onde está o arquivo apt-offline.sig e execute <strong class="userinput"><code>sudo apt-offline get --bundle bundle.zip apt-offline.sig</code></strong>. A saída irá mostrar uma tentativa de baixar atualizações de repositórios, como também o pacote <span class="emphasis"><em>PACKAGENAME</em></span> e qualquer dependência necessitada pelo sistema. Por fim, remova a unidade flash USB e leve-a de volta ao computador desconectado.</p>
        <p>Finalmente, no computador desconectado, conecte a unidade flash USB. Nele, navegue até o diretório que contém os dois arquivos e execute: <strong class="userinput"><code>sudo apt-offline install bundle.zip</code></strong>. Ao final da execução do comando, seus repositórios estarão atualizados. Com isto, você pode então instalar o pacote <span class="emphasis"><em>PACKAGENAME</em></span> executando:  <strong class="userinput"><code>sudo apt-get install PACKAGENAME</code></strong>.</p>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both"><a id="offline-system-upgrade"></a>Atualizando Seu Sistema</h2>
            </div>
          </div>
        </div>
        <p>A atualização de pacotes se dá em dois estágios: atualizar os repositórios e então baixar e atualizar o que for necessário.</p>
        <p>Primeiramente, atualize os repositórios seguindo as instruções em <a class="xref" href="offline-packages.html#offline-repo-update">Atualizando Repositórios</a></p>
        <p>Na unidade flash USB, faça uma limpeza no diretório que você utilizou anteriormente. Com uma nova sessão de terminal aberta, navegue até o diretório na unidade flash USB que você irá usar. Uma vez que nós nunca queremos perder a oportunidade de atualizar os repositórios de uma máquina desconectada, nós podemos utilizar um comando tanto para obter pacotes de atualização quanto para atualizar os repositórios. Digite <strong class="userinput"><code>apt-offline set --update --upgrade apt-offline.sig</code></strong></p>
        <p>Uma vez executado o comando, copie o arquivo <code class="literal">apt-offline.sig</code> para sua unidade flash USB e leve-a para o computador conectado. Neste último, use o comando apt-offline em conjunto com o apt-offline.sig para baixar o que o computador desconectado necessita para atualiza-se. Para isto, navegue até o diretório na unidade flash que contém o arquivo apt-offline.sig e execute <strong class="userinput"><code>sudo apt-offline get --bundle bundle.zip apt-offline.sig</code></strong>. A saída mostrará uma tentantiva de baixar atualizações para o repositório, bem como atualizações e dependências requeridas pelo seu sistema. Ao final, remova a unidade flash USB e leve-a de volta ao computador desconectado.</p>
        <p>No computador desconectado, conecte a unidade flash USB, navegue até o diretório que contém os dois arquivos e execute <strong class="userinput"><code>sudo apt-offline install bundle.zip</code></strong>. Após a execução deste comando, seus repositórios estarão atualizados e então você poderá instalar as atualizações executando: <strong class="userinput"><code>sudo apt-get upgrade</code></strong>.</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="software-management.html"><img src="../../libs-common/images/prev.png" alt="Anterior" /></a> </td>
          <td width="20%" align="center"> </td>
          <td width="40%" align="right"> <a accesskey="n" href="guide-keeping-safe.html"><img src="../../libs-common/images/next.png" alt="Próxima" /></a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">Capítulo 9. Software Management </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">
              <img src="../../libs-common/images/home.png" alt="Principal" />
            </a>
          </td>
          <td width="40%" align="right" valign="top"> Capítulo 11. Protegendo suas informações pessoais e do computador</td>
        </tr>
      </table>
    </div>
  </body>
</html>
